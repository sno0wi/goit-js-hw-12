{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nfunction searchImages(imageName) {\n    const apiKey = '41833958-d4e1402628473c9a9cbd6bb32';\n    const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${imageName.toLowerCase()}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n    return fetch(apiUrl)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.statusText);\n            }\n            return response.json();\n        });\n}\n\nfunction renderGallery(images) {\n    const gallery = document.querySelector('.gallery');\n\n    if (images.hits.length === 0) {\n        iziToast.error({\n            message: \"No images found. Please try again with a different search query.\",\n        });\n        return;\n    }\n\n    const imageHTML = images.hits.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n            </a>\n            <div class=\"image-details\">\n                <p>Likes </br> ${likes}</p>\n                <p>Views </br>  ${views}</p>\n                <p>Comments </br>  ${comments}</p>\n                <p>Downloads </br>  ${downloads}</p>\n            </div>\n        </li>`\n    ).join('');\n\n    gallery.innerHTML = imageHTML;\n    const lightbox = new SimpleLightbox('.gallery a');\n    lightbox.refresh();\n}\n\nfunction handleSearch(event) {\n    event.preventDefault();\n\n    const formElement = event.currentTarget;\n    const query = formElement.elements.query.value;\n\n    if (!query) {\n        iziToast.warning({\n            message: \"Please enter a search query.\",\n        });\n        return;\n    }\n\n    searchImages(query)\n        .then(renderGallery)\n        .catch(() => {\n            iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n            });\n        })\n        .finally(() => formElement.reset());\n}\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', handleSearch);"],"names":["searchImages","imageName","apiUrl","response","renderGallery","images","gallery","iziToast","imageHTML","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","handleSearch","event","formElement","query","form"],"mappings":"6vBAKA,SAASA,EAAaC,EAAW,CAE7B,MAAMC,EAAS,qEAA4CD,EAAU,aAAa,2DAElF,OAAO,MAAMC,CAAM,EACd,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MAC5B,CAAS,CACT,CAEA,SAASC,EAAcC,EAAQ,CAC3B,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjD,GAAID,EAAO,KAAK,SAAW,EAAG,CAC1BE,EAAS,MAAM,CACX,QAAS,kEACrB,CAAS,EACD,MACH,CAED,MAAMC,EAAYH,EAAO,KAAK,IAAI,CAAC,CAAE,aAAAI,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,4CAExEL,CAAa;AAAA,kDACPD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,iCAG3CC,CAAK;AAAA,kCACJC,CAAK;AAAA,qCACFC,CAAQ;AAAA,sCACPC,CAAS;AAAA;AAAA,cAG/C,EAAM,KAAK,EAAE,EAETT,EAAQ,UAAYE,EACH,IAAIQ,EAAe,YAAY,EACvC,QAAO,CACpB,CAEA,SAASC,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMC,EAAcD,EAAM,cACpBE,EAAQD,EAAY,SAAS,MAAM,MAEzC,GAAI,CAACC,EAAO,CACRb,EAAS,QAAQ,CACb,QAAS,8BACrB,CAAS,EACD,MACH,CAEDP,EAAaoB,CAAK,EACb,KAAKhB,CAAa,EAClB,MAAM,IAAM,CACTG,EAAS,MAAM,CACX,QAAS,0EACzB,CAAa,CACb,CAAS,EACA,QAAQ,IAAMY,EAAY,MAAK,CAAE,CAC1C,CAEA,MAAME,EAAO,SAAS,cAAc,OAAO,EAC3CA,EAAK,iBAAiB,SAAUJ,CAAY"}